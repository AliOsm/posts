---
date: 2025-01-13
day: ุงูุงุซููู
tags: [ruby-on-rails]
---

18 ุญุฑูุง ูู ุงููููู ุฃู ุชุบูุฑ ุฃุฏุงุก ุชุทุจููู!

ููุช ุฃุชุญุฏุซ ูุน ุตุฏููู ูุฒูููู ูู ุงูุนูู ุงูุจุงุฑุญุฉุ ููุงู ูุดุฑุญ ูู ูุดููุฉ ุญุฏุซุช ูุน ุตุฏููู ูู ุฃุญุฏ ูุดุงุฑูุนู ูููู ูุงู ูุณุงุนุฏู ูู ุฎูุงู ุงุณุชุฎุฏุงู JMeter ูุถุบุท ุฎุงุฏู ุงูุชุทุจูู ูุงุฎุชุจุงุฑู. ูููุช ูู: "ูุฌุจ ุฃู ูุฌุฑูุจ ุงูุฃูุฑ ููุณู ุนูู ุจุงุญุซ"ุ ููุนููุง ุจุฏุฃูุง ูู ุฐูู ูููู ูุงูุช ุงููุชุงุฆุฌ ุณูุฆุฉ ุฌุฏูุงุ ุงูุฎุงุฏู ูุง ูุณุชุทูุน ูุนุงูุฌุฉ ุฃูุซุฑ ูู ุฃูููู ุทูุจ ุนูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุฎูุงู ุฏูููุฉ!

ุฐูุจุช ุฅูู ุงูููุฒู ูุฏุฎูุช ูู ุฏููุงูุฉ ุงูุจุญุซ ุนู ุงูุณุจุจุ ูุฃูุง ูุชุฃูุฏ ุฃู ุจุงุญุซ ูุงู ูุณุชุทูุน ูุนุงูุฌุฉ ุทูุจุงุช ุฃูุซุฑ ูู ุฐูู ูู ุงูุณุงุจู. ููุชุญุช ุงูุฎุงุฏู ูู ุฎูุงู SSH ูุดุบููุช ุฃุฏุงุฉ `htop` ูุจุฏุฃุช ุงูุงุฎุชุจุงุฑ ูุฑุฉ ุซุงููุฉ ูุน ูุฑุงูุจุฉ ุงููุชุงุฆุฌ ูู `htop`ุ ููุงูุช ุงูููุงุฌุฃุฉ ุฃู ุจุงุญุซ ูุง ูุณุชููู ูุนุงูุฌ ุงูุฎุงุฏู ุจุงููุงููุ ูุฅููุง ูุณุชููู ูุง ููุงุฑุจ 10% ููู ููุท!

ูุฃูู ูุง ุฎุทุฑ ูู ุงูุชุฃูุฏ ูู ูููุฉ ุฃุญุฏ ุฅุนุฏุงุฏุงุช Ruby on Rails ููู `WEB_CONCURRENCY`ุ ููุงูุช ุงูููุงุฌุฃุฉ ุงูุซุงููุฉ ุฃู ูุฐุง ุงูุฅุนุฏุงุฏ ูุฏ ุงุฎุชูู ูู ูุณุชูุฏุน ุจุงุญุซ ูุจุดูู ุชููุงุฆู Rails ุชุณุชุฎุฏู `1` ููููุฉ ููุฐุง ุงูุฅุนุฏุงุฏ ูู ุญุงู ุนุฏู ุชุญุฏูุฏู ูู ูุจู ุงููุทููุฑ!

ุฑูุนุช ุงูู `WEB_CONCURRENCY` ูู `1` ุฅูู `8` ูุฃุนุฏุช ุงูุงุฎุชุจุงุฑ ุนูู ุตูุญุงุช ูุฎุชููุฉ ูู ุจุงุญุซุ ูุงุฎุชููุช ุงููุชุงุฆุฌ ุชูุงููุง.

ุจุงููููุฉ ุงููุฏููุฉ ูุงู ุจุงุญุซ ููุนุงูุฌ ูุญุฏ ุฃูุตู ุฃูู ุทูุจ ูู ุงูุฏูููุฉุ ุจูุชูุณุท ุฒูู ุงุณุชุฌุงุจุฉ 723msุ ุนูู ุฃุซูู ุตูุญุงุช ุงููููุน ููู ุตูุญุฉ ุนุฑุถ ุงูููุงุฏ ูุงูุชู ุชุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุซุฑุฉ. ุจูููุง ุจุงุณุชุฎุฏุงู ุงููููุฉ ุงูุฌุฏูุฏุฉ ูุจุงุญุซ ูุณุชุทูุน ูุนุงูุฌุฉ ุฃูุซุฑ ูู 7,500 ุทูุจ ูู ุงูุฏูููุฉุ ุจูุชูุณุท ุฒูู ุงุณุชุฌุงุจุฉ 375msุ ููุง ูู ููุถูุญ ูู ุงูุตูุฑุชูู.

ูุฐู ุงูุฃุฑูุงู ูุน ุงูุฃุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ุฃู ุฎุงุฏู ุจุงุญุซ ูุญุชูู ุนูู ุงูููุตุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช ููุญุฑู ุงูุจุญุซ ููู ูุง ูุชุนูู ุจุจุงุญุซ.

ูุง ุฃุฏุฑู ููู ููุชู ุชุบููุฑุช ุฅุนุฏุงุฏุงุช ุจุงุญุซ ูุฃูุฒูู ูููุง ุงูู `WEB_CONCURRENCY`ุ ูููู ุงูุญูุฏ ููู ุฃููุง ูุฌุฏูุง ุงููุดููุฉ ๐

ูููู ูุณุฃู ูุง ูู ุงูู 18 ุญุฑููุงุ ููู:

```yaml
WEB_CONCURRENCY: 8
```

ุฃูุง `WEB_CONCURRENCY` ููู ุฅุนุฏุงุฏ ููู ูู ุชุทุจููุงุช Rails ูุญุฏุฏ ุนุฏุฏ ุนูููุงุช Puma (ุฎุงุฏู ุงูููุจ ุงูุงูุชุฑุงุถู ูู Rails) ุงูุชู ูููู ุชุดุบูููุง ุจุงูุชูุงุฒู. ูุชุญูู ูุฐุง ุงูุฅุนุฏุงุฏ ูู ุนุฏุฏ ุงูุนูููุงุช ุงูุชู ูููู ูุฎุงุฏู Puma ุฅูุดุงุคูุง ููุนุงูุฌุฉ ุงูุทูุจุงุช ุงููุงุฑุฏุฉ. ุฒูุงุฏุฉ ูููุฉ `WEB_CONCURRENCY` ุชุณูุญ ููุชุทุจูู ุจูุนุงูุฌุฉ ุงููุฒูุฏ ูู ุงูุทูุจุงุช ูู ููุช ูุงุญุฏุ ููุง ูุญุณู ุงูุฃุฏุงุก ุงูุนุงู ููุฏุฑุฉ ุงูุชุญูู ููุชุทุจูู. ููุน ุฐููุ ูู ุงูููู ููุงุฒูุฉ ูุฐู ุงููููุฉ ูุน ููุงุฑุฏ ุงูุฎุงุฏู ุงููุชุงุญุฉ ูุงูุฐุงูุฑุฉ ูุงููุนุงูุฌ.

ูุงูุณูุงู ุนูููู ๐๐ป

ููุงุญุธุฉ: ุงูุตูุฑ ูู ูููุน https://loader.io ููุฐู ุฑูุงุจุท ุงูุงุฎุชุจุงุฑุงุช ููู ูุฑูุฏ ุงูุงุทูุงุน ุนูููุง:
- https://loader.io/reports/914e27236aa9ebdccd62072177a1ace0/results/34ad9ac42d59999073b8ef629f66890c
- https://loader.io/reports/914e27236aa9ebdccd62072177a1ace0/results/b8ca0bb6532dc1f351027bebfc94ce3f
